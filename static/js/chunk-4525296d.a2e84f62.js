(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4525296d"],{1922:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("下拉框禁止选和计算属性传参数")])]),t._v(" "),a("div",{staticClass:"btnBox"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.addList}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.save}},[t._v("保存")])],1),t._v(" "),a("el-form",{ref:"tableForm",attrs:{model:t.formData}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.formData.list,border:""},on:{"row-click":t.getRowData}},[a("el-table-column",{attrs:{label:"项目类别"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"list."+e.$index+".projectType",rules:[{required:!0,message:"请选择",trigger:"change"}]}},[a("el-select",{attrs:{placeholder:"请选择项目类别",size:"small"},model:{value:e.row.projectType,callback:function(a){t.$set(e.row,"projectType",a)},expression:"scope.row.projectType"}},t._l(t.projectList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"projectName",label:"项目名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"list."+e.$index+".projectName",rules:[{required:!0,message:"请输入",trigger:"blur"}]}},[a("el-input",{attrs:{size:"mini"},model:{value:e.row.projectName,callback:function(a){t.$set(e.row,"projectName",a)},expression:"scope.row.projectName"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"projectState",label:"形象进度"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"list."+e.$index+".projectState",rules:[{required:!0,message:"请选择",trigger:"change"}]}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.row.projectState,callback:function(a){t.$set(e.row,"projectState",a)},expression:"scope.row.projectState"}},t._l(t.projectStateList(e.$index,e.row),(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:t.disabled}})})),1)],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteItem(e.$index)}}},[t._v("删除")])]}}])})],1)],1)],1),t._v(" "),t._m(0)],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",[t._v("\n    需求:\n    "),a("li",[t._v("形象进度，历史数据里如果是完工则不能选在建或者前期，不是历史数据就是都可以选")])])}],s=(a("6d57"),a("dfb8")),i={name:"ComputedToParams",data:function(){return{formData:{list:[]},rowData:{},projectList:[],stateList:[]}},computed:{projectStateList:function(){var t=this;return function(e,a){return t.getProjectState(e,a)}}},created:function(){this.initData(),this.initprojectType(),this.initProjectState()},methods:{initData:function(){var t=this,e={id:"001"};Object(s["b"])(e).then((function(e){if(2e4===e.code){var a=e.data.RetList;a.forEach((function(t){t.rowNo=Math.random()})),t.formData.list=a}}))},initprojectType:function(){var t=this,e={dicName:"project"};Object(s["d"])(e).then((function(e){2e4===e.code&&(t.projectList=e.data.ResPonseBody.content)}))},initProjectState:function(){var t=this,e={dicName:"state"};Object(s["e"])(e).then((function(e){2e4===e.code&&(t.stateList=e.data.ResPonseBody.content)}))},getRowData:function(t,e,a){this.rowData=t},addList:function(){var t={};t.rowNo=Math.random(),this.formData.list.push(t)},deleteItem:function(t){var e=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){e.formData.list.splice(t,1)}))},getProjectState:function(t,e){return e.id?(this.stateList.forEach((function(t){"project_state_03"===e.projectState?e.projectState===t.value?t.disabled=!1:t.disabled=!0:t.disabled=!1})),this.stateList):(this.stateList.forEach((function(t){t.disabled=!1})),this.stateList)},save:function(){var t=this;this.$refs["tableForm"].validate((function(e){if(!e)return t.$message({type:"success",message:"保存失败"}),!1;t.$message({type:"success",message:"保存成功"})}))}}},n=i,c=(a("84f8"),a("623f")),l=Object(c["a"])(n,r,o,!1,null,"6ac62089",null);e["default"]=l.exports},"28b6":function(t,e,a){},"84f8":function(t,e,a){"use strict";var r=a("28b6"),o=a.n(r);o.a}}]);