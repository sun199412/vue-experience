(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-268ffd00"],{"0744":function(e,t,r){},"2e5d":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"body"},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("表格自定义校验")])]),e._v(" "),r("div",{staticClass:"btnBox"},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addList}},[e._v("新增")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.save}},[e._v("保存")])],1),e._v(" "),r("el-form",{ref:"tableForm",attrs:{model:e.formData}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.formData.list,border:""},on:{"row-click":e.getRowData}},[r("el-table-column",{attrs:{label:"项目类别",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form-item",{attrs:{prop:"list."+t.$index+".projectType",rules:[{required:!0,message:"请选择",trigger:"change"}]}},[r("el-select",{attrs:{placeholder:"请选择项目类别",size:"small"},model:{value:t.row.projectType,callback:function(r){e.$set(t.row,"projectType",r)},expression:"scope.row.projectType"}},e._l(e.projectList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"projectName",label:"项目名称",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form-item",{attrs:{prop:"list."+t.$index+".projectName",rules:[{required:!0,message:"请输入",trigger:"blur"}]}},[r("el-input",{attrs:{size:"mini"},model:{value:t.row.projectName,callback:function(r){e.$set(t.row,"projectName",r)},expression:"scope.row.projectName"}})],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"项目位置",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form-item",{attrs:{prop:"list."+t.$index+".projectLocaltion",rules:[{required:!0,message:"请输入",trigger:"blur"}]}},[r("el-input",{attrs:{size:"mini"},model:{value:t.row.projectLocaltion,callback:function(r){e.$set(t.row,"projectLocaltion",r)},expression:"scope.row.projectLocaltion"}})],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"汇水面积（平方米）",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form-item",{attrs:{prop:"list."+t.$index+".catchmentArea",rules:[{required:!0,message:"请输入",trigger:"blur"}]}},[r("el-input",{attrs:{size:"mini"},on:{blur:function(r){return e.getParseFloat(r,t.$index,"catchmentArea")}},model:{value:t.row.catchmentArea,callback:function(r){e.$set(t.row,"catchmentArea",r)},expression:"scope.row.catchmentArea"}})],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"总投资（万）",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form-item",{attrs:{prop:"list."+t.$index+".totalInvestment",rules:[{required:!0,message:"请输入",trigger:"blur"}]}},[r("el-input",{attrs:{size:"mini"},on:{blur:function(r){return e.getParseFloat(r,t.$index,"totalInvestment")}},model:{value:t.row.totalInvestment,callback:function(r){e.$set(t.row,"totalInvestment",r)},expression:"scope.row.totalInvestment"}})],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"finishedInvestment",label:"完成投资（万）",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form-item",{attrs:{prop:"list."+t.$index+".finishedInvestment",rules:[{required:!0,message:"请输入",trigger:"blur"}]}},[r("el-input",{attrs:{size:"mini"},on:{blur:function(r){return e.getParseFloatFinishedInvestment(r,t.$index,"finishedInvestment")}},model:{value:t.row.finishedInvestment,callback:function(r){e.$set(t.row,"finishedInvestment",r)},expression:"scope.row.finishedInvestment"}})],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"projectState",label:"形象进度",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form-item",{attrs:{prop:"list."+t.$index+".projectState",rules:[{required:!0,message:"请选择",trigger:"change"}]}},[r("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:t.row.projectState,callback:function(r){e.$set(t.row,"projectState",r)},expression:"scope.row.projectState"}},e._l(e.stateList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"建设方",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form-item",{attrs:{prop:"list."+t.$index+".buildComp",rules:[{required:!0,message:"请输入",trigger:"blur"}]}},[r("el-input",{attrs:{size:"mini"},model:{value:t.row.buildComp,callback:function(r){e.$set(t.row,"buildComp",r)},expression:"scope.row.buildComp"}})],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"联系人",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form-item",{attrs:{prop:"list."+t.$index+".contacts",rules:[{required:!0,message:"请输入",trigger:"blur"}]}},[r("el-input",{attrs:{size:"mini"},model:{value:t.row.contacts,callback:function(r){e.$set(t.row,"contacts",r)},expression:"scope.row.contacts"}})],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"teleNum",label:"电话",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form-item",{attrs:{prop:"list."+t.$index+".teleNum",rules:[{required:!0,message:"请输入",trigger:"blur"}]}},[r("el-input",{attrs:{size:"mini"},on:{blur:function(r){return e.getTel(r,t.$index,"teleNum")}},model:{value:t.row.teleNum,callback:function(r){e.$set(t.row,"teleNum",r)},expression:"scope.row.teleNum"}})],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"begainDate",label:"开工时间",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form-item",{attrs:{prop:"list."+t.$index+".begainDate",rules:[{required:!0,message:"请输入",trigger:"change"}]}},[r("el-date-picker",{attrs:{type:"date",size:"mini",placeholder:"选择日期"},model:{value:t.row.begainDate,callback:function(r){e.$set(t.row,"begainDate",r)},expression:"scope.row.begainDate"}})],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"endDate",label:"完工时间",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form-item",{attrs:{prop:"list."+t.$index+".endDate",rules:[{required:!0,message:"请输入",trigger:"change"}]}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",size:"mini"},model:{value:t.row.endDate,callback:function(r){e.$set(t.row,"endDate",r)},expression:"scope.row.endDate"}})],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.deleteItem(t.$index)}}},[e._v("删除")])]}}])})],1)],1)],1),e._v(" "),e._m(0)],1)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ol",[e._v("\n    需求:\n    "),r("li",[e._v("电话只能为正整数")]),e._v(" "),r("li",[e._v("汇水面积，总投资，完成投资必须为数字且保留两位小数，不能为负数")]),e._v(" "),r("li",[e._v("总投资额大于完成投资额")]),e._v(" "),r("li",[e._v("所有表单都为必输")])])}],i=(r("8f42"),r("dfb8")),s={name:"CustomCheckTable",data:function(){return{formData:{list:[]},rowData:{},projectList:[],stateList:[]}},created:function(){this.initData(),this.initprojectType(),this.initProjectState()},methods:{initData:function(){var e=this,t={id:"001"};Object(i["b"])(t).then((function(t){2e4===t.code&&(e.formData.list=t.data.RetList)}))},initprojectType:function(){var e=this,t={dicName:"project"};Object(i["d"])(t).then((function(t){2e4===t.code&&(e.projectList=t.data.ResPonseBody.content)}))},initProjectState:function(){var e=this,t={dicName:"state"};Object(i["e"])(t).then((function(t){2e4===t.code&&(e.stateList=t.data.ResPonseBody.content)}))},getRowData:function(e,t,r){this.rowData=e},addList:function(){var e={};e.id=Math.random(),e.catchmentArea="0",e.totalInvestment="0",e.finishedInvestment="0",this.formData.list.push(e)},deleteItem:function(e){var t=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){t.formData.list.splice(e,1)}))},getTel:function(e,t,r){var a=/^[1-9]\d*$/;a.test(e.target.value)||this.$set(this.formData.list[t],r,"")},getParseFloat:function(e,t,r){var a=/^([1-9]\d*|0)(\.\d*[1-9])?$/;if(a.test(e.target.value)){var n=this.formData.list[t][r];this.$set(this.formData.list[t],r,Number(n).toFixed(2))}else this.$set(this.formData.list[t],r,"")},getParseFloatFinishedInvestment:function(e,t,r){var a=/^([1-9]\d*|0)(\.\d*[1-9])?$/;if(a.test(e.target.value))if(Number(this.formData.list[t].totalInvestment)<Number(e.target.value))this.$set(this.formData.list[t],r,"");else{var n=this.formData.list[t][r];this.$set(this.formData.list[t],r,Number(n).toFixed(2))}else this.$set(this.formData.list[t],r,"")},save:function(){var e=this;this.$refs["tableForm"].validate((function(t){if(!t)return e.$message({type:"error",message:"保存失败"}),!1;e.$message({type:"success",message:"保存成功"})}))}}},o=s,l=(r("577e"),r("4e82")),c=Object(l["a"])(o,a,n,!1,null,"503c16db",null);t["default"]=c.exports},"3a06":function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"577e":function(e,t,r){"use strict";var a=r("0744"),n=r.n(a);n.a},7130:function(e,t,r){var a=r("2498"),n=r("3038"),i=r("0cc1"),s=r("3a06"),o="["+s+"]",l="​",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(e,t,r){var n={},o=i((function(){return!!s[e]()||l[e]()!=l})),c=n[e]=o?t(f):s[e];r&&(n[r]=c),a(a.P+a.F*o,"String",n)},f=d.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},"8f42":function(e,t,r){"use strict";var a=r("3f8b"),n=r("549d"),i=r("6077"),s=r("1e01"),o=r("2ab1"),l=r("0cc1"),c=r("cb2e").f,u=r("e493").f,d=r("d3d8").f,f=r("7130").trim,m="Number",p=a[m],v=p,b=p.prototype,h=i(r("65c3")(b))==m,g="trim"in String.prototype,w=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=g?t.trim():f(t,3);var r,a,n,i=t.charCodeAt(0);if(43===i||45===i){if(r=t.charCodeAt(2),88===r||120===r)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+t}for(var s,l=t.slice(2),c=0,u=l.length;c<u;c++)if(s=l.charCodeAt(c),s<48||s>n)return NaN;return parseInt(l,a)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof p&&(h?l((function(){b.valueOf.call(r)})):i(r)!=m)?s(new v(w(t)),r,p):w(t)};for(var _,$=r("f9a5")?c(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;$.length>x;x++)n(v,_=$[x])&&!n(p,_)&&d(p,_,u(v,_));p.prototype=b,b.constructor=p,r("a6d5")(a,m,p)}}}]);